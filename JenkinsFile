#!groovy




stage 'Checkout'
node {
   // Mark the code checkout 'stage'....
   // Checkout code from repository
   git 'https://github.com/exorcist007/JenkinsWorkflowBuild.git'
    stage 'Build'
  
   node{
   bat 'gradle build --info'
   }
}

stage 'Checkout2'
node{
    git 'https://github.com/exorcist007/TDF-IDF-CascadingDateFormatConversion.git'
   
   stage 'Build'
   node{
   bat 'gradle build --info'
   }
}

   // Mark the code build 'stage'....
  

stage 'QA'
node{
   //this is a custom task that gets called irrespective of the repositories being called
bat 'gradle sayHello'
}

stage 'jar'
node{
//extra batch command called: may be ignored
bat 'gradle clean jar --info'
}
stage name: 'Production', concurrency: 1
node {
   mail bcc: '', body: '', cc: 'Aniruddha.Sinha@bitwiseglobal.com', charset: '', from: '', mimeType: '', replyTo: '', subject: 'JENKINS-FILE build', to: 'asinha161@gmail.com'

    echo 'Production server looks to be alive'
    echo "Deployed to production"
}





